{% extends 'layouts/base.html' %}

{% block title %} Dashboard {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<!-- Header -->
<div class="header bg-dark pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <h6 class="h2 text-white d-inline-block mb-0">Portal Z-Act</h6>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Page content -->
<div class="container-fluid mt--6">
    <!-- Page content -->
    <div class="row">
        <div class="col">
            <div class="card text-left">
                <!-- Card header -->
                <div class="card-body">
                    <h3 class="card-title" style="font-size: 0.8rem;">Hi, {{ request.user.username }},</h3>
                    <h3 class="card-title" style="font-size: 2.6rem; margin-top: -1.4rem;">Welcome, to the
                        Z-Act Portal!</h3>
                    <div>
                        <p class="card-text" style="margin-top: -1.2rem;">Explore, learn and apply the knowledge we
                            share here. This is the first step towards effective <br> financial management and
                            intelligent use of cloud services.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Self Assessesment -->
    <div class="row">
        <div class="col">
            <div class="card text-center">
                <div class="card-body">
                    <h3 class="card-title" style="font-size: 1.6rem;">Self Assessesment</h3>

                    {% if cond_bloco_asses == 0 %}
                    <p class="card-text">How about starting with our FinOps self-assessment tool. This Self Assessment
                        will help you understand how effective the financial management of your cloud operations is.
                        Discover areas for improvement and optimize your cloud spend. You need to answer 30 questions,
                        divided into 6 domains. For best results, answer all questions.</p>
                    <a href="/fase/" class="btn btn-primary">Start Self Assesment</a>
                    {% else %}

                    <!-- Card stats -->
                    <div class="row align-items-stretch">
                        <div class="col-xl-3 col-md-6">
                            <div class="card card-stats text-left" style="height:85%;">
                                <!-- Card body -->
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h5 class="card-title text-uppercase text-muted mb-0"
                                                style="font-size: 0.7rem;">Organizational Maturity</h5>
                                            <span class="h2 font-weight-bold mb-0" style="font-size: 1.2rem;">{{ dados_org.Estado }}</span>
                                        </div>
                                        <div class="col-md-4">
                                            <div
                                                class="icon icon-shape bg-gradient-red text-white rounded-circle shadow">
                                                <i class="ni ni-active-40"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="mt-3 mb-0 text-sm">
                                        <span class="text-uppercase mr-2" style="font-size: 1.2rem;">{{ dados_org.Porcentagem }}%</span>
                                        <span class="text-nowrap">- Since last month</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% for item in dados_fase %}
                        <div class="col-xl-3 col-md-6">
                            <div class="card card-stats text-left" style="height:85%;">
                                <!-- Card body -->
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h5 class="card-title text-uppercase text-muted mb-0"
                                                style="font-size: 0.7rem;">{{ item.Fase }}</h5>
                                            <span class="h2 font-weight-bold mb-0" style="font-size: 1.2rem;">{{ item.Estado }}</span>
                                        </div>

                                        {% if item.Fase == 'Inform' %}
                                        <div class="col-md-4">
                                            <div
                                                class="icon icon-shape bg-gradient-info text-white rounded-circle shadow">
                                                <i class="ni ni-chart-pie-35"></i>
                                            </div>
                                        </div>
                                        {% elif item.Fase == 'Optimize' %}
                                        <div class="col-md-4">
                                            <div
                                                class="icon icon-shape bg-gradient-purple text-white rounded-circle shadow">
                                                <i class="ni ni-money-coins"></i>
                                            </div>
                                        </div>
                                        {% else %}
                                        <div class="col-md-4">
                                            <div
                                                class="icon icon-shape bg-gradient-green text-white rounded-circle shadow">
                                                <i class="ni ni-chart-bar-32"></i>
                                            </div>
                                        </div>
                                        {% endif %}
                                    </div>
                                    <p class="mt-3 mb-0 text-sm">
                                        <span class="text-uppercase mr-2" style="font-size: 1.2rem;">{{ item.Porcentagem }}%</span>
                                        <span class="text-nowrap">- Since last month</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <a href="/fase/" class="btn btn-primary">Continue Self Assessment</a>
                    {% endif %}
                
                </div>
            </div>
        </div>
    </div>

    <!-- Turbonomic -->
    <div class="row">
        <div class="col">
            <div class="card">
                <!-- Card header -->
                <div class="card-body">
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <p style="text-align: center;">-- Turbonomic --</p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            </div>
        </div>
    </div>

    <!-- Flexera -->
    <div class="row">
        <div class="col">
            <div class="card">
                <!-- Card header -->
                <div class="card-body">
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <p style="text-align: center;">-- Cloudability --</p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            </div>
        </div>
    </div>
    {% include "includes/footer.html" %}

</div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

<script src="/static/assets/vendor/chart.js/dist/Chart.min.js"></script>
<script src="/static/assets/vendor/chart.js/dist/Chart.extension.js"></script>

{% endblock javascripts %}